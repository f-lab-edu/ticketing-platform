# Ticket Reservation MVP Requirements

## 1. 목적
선착순 티켓 예매 서비스의 최소 기능(MVP)을 정의한다.
본 문서는 도메인 로직, 동시성 처리, API 동작의 기준이 된다.


## 2. 예매 성공 조건

- 공연의 잔여 티켓 수량이 1 이상이어야 한다.
- 동일한 공연에 대해 동시에 여러 예매 요청이 발생한 경우,
  단 하나의 요청만 예매에 성공해야 한다. (선착순 보장)


## 3. 예매 성공 시 동작

- 공연의 잔여 티켓 수량이 요청 수 만큼 감소한다.
- Reservation 엔티티가 생성된다.
- userId(임시 값)가 Reservation에 기록된다.
- API는 예매 성공 응답을 반환한다.


## 4. 예매 실패 조건

- 공연의 잔여 티켓 수량이 0인 경우 예매에 실패한다.
- 잔여 티켓 수량 보다 많은 수를 요청할 경우 실패한다.


## 5. 예매 실패 시 동작

- 공연의 잔여 티켓 수량은 변경되지 않는다.
- Reservation 엔티티는 생성되지 않는다.
- API는 예매 실패 응답을 반환한다.


## 6. 비고

- 본 MVP 단계에서는 결제, 좌석 선택, 취소 기능은 고려하지 않는다.
- 동시성 제어 방식(비관락/낙관락 등)은 구현 단계에서 결정한다.